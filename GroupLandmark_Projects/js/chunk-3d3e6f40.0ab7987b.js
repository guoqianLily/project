(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d3e6f40","chunk-2fd5d6da"],{"0881":function(e,t,l){var i=l("28ce");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=l("85cb").default;o("dc50ae24",i,!0,{sourceMap:!1,shadowMode:!1})},"28ce":function(e,t,l){var i=l("abd8");t=i(!1),t.push([e.i,".el-form-item__content{margin-left:0!important}#policyRequire{height:calc(100% - 48px)}#policyRequire .el-row{height:.4rem}#policyRequire #addNewdialog .el-select{width:100%}#policyRequire #addNewdialog .el-dialog__body{padding:0 .2rem .2rem .2rem;width:100%;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}",""]),e.exports=t},6792:function(e,t,l){"use strict";var i=l("0881"),o=l.n(i);o.a},7653:function(e,t,l){"use strict";l.r(t);var i=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"listPage",attrs:{id:"policyRequire"}},[l("div",{staticClass:"bigtitle"},[l("div",{staticClass:"bigtitleName"},[e._v("\n      政策需求\n    ")]),"1"==e.upDateFlag?l("el-button",{staticClass:"titleBtn",attrs:{type:"primary",size:"small"},on:{click:e.addIndex}},[e._v("\n      新增政策需求")]):e._e()],1),l("div",{staticClass:"listBox"},[l("div",{staticClass:"tableBox"},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"element-loading-text":"数据加载...","element-loading-spinner":"el-icon-loading",data:e.tableData,border:""}},[l("el-table-column",{attrs:{prop:"policyTypeName",label:"政策分类",width:"180px",align:"center"}}),l("el-table-column",{attrs:{prop:"deadLine",label:"政策内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:t.row.content?"":"text-align:center;"},[l("span",{domProps:{innerHTML:e._s(t.row.content?t.row.content:"/")}})])]}}])}),l("el-table-column",{attrs:{prop:"fieldxuqiu",label:"进度需求"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:t.row.deadLine?"":"text-align:center;"},[l("span",{domProps:{innerHTML:e._s(t.row.deadLine?t.row.deadLine:"/")}})])]}}])}),l("el-table-column",{attrs:{prop:"fieldxuqiu",label:"对接部门",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("div",{style:t.row.dockingDepartment?"":"text-align:center;"},[l("span",{domProps:{innerHTML:e._s(t.row.dockingDepartment?t.row.dockingDepartment:"/")}})])]}}])}),"1"==e.upDateFlag?l("el-table-column",{attrs:{prop:"",label:"操作",width:"80px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{staticClass:"hanleBtns",on:{click:function(l){return e.handleEdit(t.$index,t.row)}}},[e._v("优化")])]}}],null,!1,2212462415)}):e._e()],1)],1)]),l("el-dialog",{attrs:{title:e.title,visible:e.addIndexVisible,id:"addNewdialog",width:"60%"},on:{"update:visible":function(t){e.addIndexVisible=t}}},[l("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-position":"right"}},[l("el-form-item",{attrs:{label:"政策分类"}},[l("el-select",{attrs:{porp:"policyType",placeholder:"请选择"},on:{change:e.getVal},model:{value:e.addForm.policyType,callback:function(t){e.$set(e.addForm,"policyType",t)},expression:"addForm.policyType"}},e._l(e.searchForm.policyType,(function(e){return l("el-option",{key:e.id,attrs:{label:e.value,value:e.key}})})),1)],1),l("el-form-item",{staticClass:"autoElform",attrs:{label:"政策内容",prop:"content"}},[l("quillEditor",{ref:"content",staticStyle:{height:"120px"},attrs:{content:e.addForm.content},on:{"on-change-content":e.getcontent1}})],1),l("el-form-item",{staticClass:"autoElform",attrs:{label:"进度需求",prop:"deadLine"}},[l("quillEditor",{ref:"deadLine",staticStyle:{height:"120px"},attrs:{content:e.addForm.deadLine},on:{"on-change-content":e.getcontent2}})],1),l("el-form-item",{staticClass:"autoElform",attrs:{label:"对接部门",prop:"dockingDepartment"}},[l("quillEditor",{ref:"dockingDepartment",staticStyle:{height:"120px"},attrs:{content:e.addForm.dockingDepartment},on:{"on-change-content":e.getcontent3}})],1),l("el-form-item",{staticClass:"btnItem"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("提交")]),l("el-button",{on:{click:function(t){return e.closeForm("addForm")}}},[e._v("取消")])],1)],1)],1)],1)},o=[],a=l("9720"),n=(l("5f87"),l("9eee"),l("0957")),r={components:{quillEditor:n["a"]},data:function(){return{stripe:!0,title:"新增",typeName:"",addIndexVisible:!1,currentPage1:1,tableTotal:0,pageSize:8,searchForm:{fieldArr:[],fieldChinese:"",policyType:[],unableFlag:""},addForm:{policyType:"",content:"",deadLine:"",dockingDepartment:"",ableFlag:"1"},rules:{policyType:[{required:!0,message:"请选择政策分类",trigger:"change"}],content:[{required:!0,message:"请输入政策内容",trigger:"blur"}],deadLine:[{required:!0,message:"请输入进度需求",trigger:"blur"}],dockingDepartment:[{required:!0,message:"请输入字对接部门",trigger:"blur"}]},tableData:[],loading:!1,upDateFlag:this.$route.query.state,FormType:""}},mounted:function(){var e=this;this.searchMessage(),Object(a["g"])({type:"policy_type",userId:this.$store.state.user.user}).then((function(t){e.searchForm.policyType=t.result}))},methods:{handleSizeChange:function(e){this.pageSize=e,this.currentPage1=1,this.searchMessage()},handleCurrentChange:function(e){this.currentPage1=parseInt(e),this.tableData=[],this.searchMessage()},searchMessage:function(e){var t=this,l={userId:this.$store.state.user.userId,projectId:this.$route.query.id};Object(a["f"])(l).then((function(e){e.result.length>0?(t.tableData=e.result,t.loading=!1):(t.tableData=[],t.tableTotal=0,t.loading=!1)})).catch((function(e){t.loading=!1}))},getIndex:function(e){return(this.currentPage1-1)*this.pageSize+e+1},addIndex:function(){var e=this;this.addIndexVisible=!0,this.title="新增政策需求",this.$nextTick((function(){e.$refs.addForm.resetFields(),e.addForm={userId:e.$store.state.user.userId,policyType:"",content:"",deadLine:"",dockingDepartment:"",ableFlag:"1",projectId:e.$route.query.id},e.FormType="addForm"}))},handleEdit:function(e,t){var l=this;this.addIndexVisible=!0,this.title="优化政策需求",this.$nextTick((function(){l.addForm={userId:l.$store.state.user.userId,id:t.id,policyType:t.policyType,content:t.content,deadLine:t.deadLine,dockingDepartment:t.dockingDepartment,ableFlag:"1"},l.FormType="updateForm"}))},handleDelete:function(e,t){var l=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={userId:sessionStorage.getItem("userId"),companyId:sessionStorage.getItem("companyId"),id:t.id};deleteFieldData(e).then((function(e){e.data.success?(l.$message({type:"success",message:"操作成功!"}),l.currentPage1=1,l.searchMessage()):(l.$message({type:"error",message:"操作失败!"}),l.currentPage1=1,l.searchMessage())}))})).catch((function(){l.$message({type:"info",message:"已取消删除"})}))},submitForm:function(e){var t=this,l=this;l.addForm.content=l.$refs.content.content,l.addForm.deadLine=l.$refs.deadLine.content,l.addForm.dockingDepartment=l.$refs.dockingDepartment.content,this.$refs[e].validate((function(e){if(!e)return!1;var i=l.addForm;"updateForm"==l.FormType?Object(a["i"])(i).then((function(e){e.success?(t.$message({type:"success",message:"操作成功!"}),t.addIndexVisible=!1,t.searchMessage()):(t.$message({type:"error",message:"操作失败!"}),t.addIndexVisible=!1,t.searchMessage())})):"addForm"==l.FormType&&Object(a["b"])(i).then((function(e){e.success?(t.$message({type:"success",message:"操作成功!"}),t.addIndexVisible=!1,t.searchMessage()):(t.$message({type:"error",message:"操作失败!"}),t.addIndexVisible=!1,t.searchMessage())}))}))},closeForm:function(e){this.addIndexVisible=!1,this.searchMessage()},getcontent1:function(e){this.addForm.content=e},getcontent2:function(e){this.addForm.deadLine=e},getcontent3:function(e){this.addForm.dockingDepartment=e},getVal:function(){this.addForm.content=this.$refs.content.content,this.addForm.deadLine=this.$refs.deadLine.content,this.addForm.dockingDepartment=this.$refs.dockingDepartment.content}}},d=r,s=(l("6792"),l("623f")),g=Object(s["a"])(d,i,o,!1,null,null,null);t["default"]=g.exports},9720:function(e,t,l){"use strict";l.d(t,"f",(function(){return f})),l.d(t,"b",(function(){return m})),l.d(t,"i",(function(){return b})),l.d(t,"d",(function(){return _})),l.d(t,"e",(function(){return x})),l.d(t,"a",(function(){return y})),l.d(t,"h",(function(){return P})),l.d(t,"g",(function(){return w})),l.d(t,"c",(function(){return v}));var i=l("751a"),o="/chouChing/businessPolicyController/searchAllData",a="/chouChing/businessPolicyController/saveData",n="/chouChing/businessPolicyController/updateData",r="/chouChing/businessFileController/searchAllData",d="/chouChing/businessFileController/updateData",s="/chouChing/businessFileController/deleteData",g="/chouChing/businessPolicyController/searchAllDataByMonth",c="/chouChing/BusinessWeekController/saveData",h="/chouChing/BusinessWeekController/updateData",p="/chouChing/sysDictionariesController/searchAllData",u={PolicyRequire_API:o,PolicyRequireAdd_API:a,PolicyRequireUpdate_API:n,GetFileListData_API:r,UpdateFileListData_API:d,GETPolicyProfeedback_API:g,AddPolicyProfeedback_API:c,UPdatePolicyProfeedback_API:h,GetweekProgressClass_API:p,DeleteFileListData_API:s};function f(e){return console.log(e),new Promise((function(t,l){Object(i["a"])({url:u.PolicyRequire_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function m(e){return new Promise((function(t,l){Object(i["a"])({url:u.PolicyRequireAdd_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function b(e){return new Promise((function(t,l){Object(i["a"])({url:u.PolicyRequireUpdate_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function _(e){return new Promise((function(t,l){Object(i["a"])({url:u.GetFileListData_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function x(e){return console.log(e),new Promise((function(t,l){Object(i["a"])({url:u.GETPolicyProfeedback_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function y(e){return console.log(e),new Promise((function(t,l){Object(i["a"])({url:u.AddPolicyProfeedback_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function P(e){return console.log(e),new Promise((function(t,l){Object(i["a"])({url:u.UPdatePolicyProfeedback_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function w(e){return console.log(e),new Promise((function(t,l){Object(i["a"])({url:u.GetweekProgressClass_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}function v(e){return console.log(e),new Promise((function(t,l){Object(i["a"])({url:u.DeleteFileListData_API,method:"POST",data:e}).then((function(e){var l=e.data;e.status;t(l)})).catch((function(e){console.log(e)}))}))}},"9eee":function(e,t,l){var i=l("b3e8");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=l("85cb").default;o("72ae4efc",i,!0,{sourceMap:!1,shadowMode:!1})},b3e8:function(e,t,l){var i=l("abd8");t=i(!1),t.push([e.i,'.listPage{padding:0 0 20px 0;border-radius:10px;height:100%;overflow:hidden}.listPage,.listPage .bigtitle{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.listPage .bigtitle{height:36px;line-height:26px;display:inline;float:left;padding:0 10px 0 10px}.listPage .bigtitle .bigtitleName{width:50%;float:left;color:#409eff}.listPage .bigtitle .el-button{padding:0 10px;height:26px;line-height:26px}.listPage .bigtitle .titleBtn{float:right}.listPage .el-dialog .el-dialog__header{padding:0 20px;height:40px}.listPage .el-dialog .el-dialog__header .el-dialog__title{float:left;height:100%;font-size:14px;line-height:40px;position:relative;padding-left:10px}.listPage .el-dialog .el-dialog__header .el-dialog__title:before{display:block;content:"";width:3px;height:50%;position:absolute;top:25%;left:0;background-color:#409eff}.listPage .el-dialog .el-dialog__header .el-dialog__headerbtn{top:11px}.listPage .el-dialog .el-dialog__body{padding:0 20px 10px 20px;-webkit-box-sizing:border-box;box-sizing:border-box}.listPage .el-dialog .el-dialog__body .el-tabs__content{margin-top:28px;text-align:center}.listPage .el-dialog .el-dialog__body .el-tabs__content .el-tab-pane{height:300px}.listPage .el-dialog .el-dialog__body .el-form{width:100%;height:100%}.listPage .el-dialog .el-dialog__body .el-form .autoElform{height:auto!important}.listPage .el-dialog .el-dialog__body .el-form .el-form-item{width:95%;float:left;height:40px;margin:0 0 18px 0;padding-left:3%;display:-webkit-box;display:-ms-flexbox;display:flex}.listPage .el-dialog .el-dialog__body .el-form .el-form-item .el-form-item__label{width:80px;float:left;height:100%;line-height:40px}.listPage .el-dialog .el-dialog__body .el-form .el-form-item .el-form-item__content{float:left;width:calc(100% - 80px);height:100%}.listPage .el-dialog .el-dialog__body .el-form .el-form-item .el-form-item__content .el-input,.listPage .el-dialog .el-dialog__body .el-form .el-form-item .el-form-item__content .el-input input,.listPage .el-dialog .el-dialog__body .el-form .el-form-item .el-form-item__content .el-select,.listPage .el-dialog .el-dialog__body .el-form .el-form-item .el-form-item__content .el-textarea{height:100%;width:100%}.listPage .el-dialog .el-dialog__body .el-form .el-form-item .el-form-item__content .el-textarea .el-textarea__inner{height:100%!important}.listPage .el-dialog .el-dialog__body .el-form .el-form-item.btnItem{width:100%;margin:10px 0 0 0;text-align:right;-webkit-box-sizing:border-box;box-sizing:border-box}.listPage .el-dialog .el-dialog__body .el-form .el-form-item.btnItem .el-form-item__content{width:98%}.listPage .el-dialog .el-dialog__body .el-form .el-form-item.btnItem .el-form-item__label{width:0}.listPage .el-dialog .el-dialog__body .el-form .rankLine{width:90%;height:72px}.listPage .el-dialog .el-dialog__body .el-form:after{content:"";clear:both;display:block;height:0;overflow:hidden;visibility:hidden}.listPage .el-dialog .el-dialog__body .el-transfer{text-align:center;height:29px}.listPage .el-dialog .el-dialog__body .el-transfer .el-transfer-panel{text-align:left;height:100%;overflow:hidden}.listPage .el-dialog .el-dialog__body .el-transfer .el-transfer-panel .el-transfer-panel__header{height:40px}.listPage .el-dialog .el-dialog__body .el-transfer .el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label span{right:-100%}.listPage .el-dialog .el-dialog__body .el-transfer .el-transfer-panel .el-transfer-panel__body{height:calc(100% - 40px);overflow:hidden}.listPage .el-dialog .el-dialog__body .el-transfer .el-transfer-panel .el-transfer-panel__body .el-input{margin:15px 0;height:30px;padding:0 10px}.listPage .el-dialog .el-dialog__body .el-transfer .el-transfer-panel .el-transfer-panel__body .el-checkbox-group{height:calc(100% - 60px);overflow:auto}.listPage .el-dialog .el-dialog__body .el-tree{height:29px;overflow:auto}.listPage .el-dialog .el-dialog__body .el-row{width:100%;height:40px;text-align:right;padding-left:9.5%}.listPage .el-dialog .el-dialog__body .el-row button{width:80px;height:36px;line-height:36px;font-size:12px;padding:0}.listPage .el-dialog .el-dialog__body .tableBox{height:auto;width:100%}.listPage .el-dialog .el-dialog__body .tableBox .el-table th{height:40px;font-weight:400;padding:0;font-size:12px;text-align:center}.listPage .el-dialog .el-dialog__body .tableBox .el-table td{height:40px;padding:0;font-size:12px;text-align:center}.listPage .el-dialog .el-dialog__body .tableBox .el-table .el-table__body button{margin:0 5px 0 0;width:37px;padding:0;height:26px;line-height:26px;float:left;font-size:12px;margin-left:10px}.listPage .el-dialog .el-dialog__body .tableBox .el-table .el-table__body button:nth-child(2n){margin:0}.listPage .el-dialog .el-dialog__body .tableBox .el-table__header-wrapper{width:100%;height:40px}.listPage .el-dialog .el-dialog__body .tableBox .el-table__body-wrapper{width:100%;height:calc(100% - 40px)}.listPage .el-dialog .el-dialog__body .tableBox .el-table__body-wrapper table,.listPage .el-dialog .el-dialog__body .tableBox .el-table__body-wrapper table tbody{width:100%;height:100%}.listPage .el-dialog .el-dialog__body .tableBox .el-table--border:after,.listPage .el-dialog .el-dialog__body .tableBox .el-table--group:after,.listPage .el-dialog .el-dialog__body .tableBox .el-table:before{display:none}.listPage .el-dialog .el-dialog__body .el-pagination{height:100%;padding:3% 0 0;text-align:center}.listPage .listBox{height:calc(100% - 10px);position:relative;float:left;width:100%}.listPage .listBox .tableBox{height:87%;width:100%}.listPage .listBox .tableBox .el-table{max-height:100%;overflow-y:hidden;overflow-x:auto}.listPage .listBox .tableBox .el-table th{height:36px;font-weight:400;padding:0;font-size:12px;text-align:center;background-color:#409eff!important;color:#fff!important}.listPage .listBox .tableBox .el-table td{height:36px;padding:0;font-size:12px}.listPage .listBox .tableBox .el-table .el-table__body .hanleBtns{cursor:pointer;color:#409eff;text-decoration:underline;padding:0 3px}.listPage .listBox .tableBox .el-table .el-table__body .hanleBtns:hover{color:#000}.listPage .listBox .tableBox .el-table .el-table__body button{margin:0 5px 0 0;width:37px;padding:0;height:26px;line-height:26px;font-size:12px;margin-left:5px}.listPage .listBox .tableBox .el-table .el-table__body button:nth-child(2n){margin:0}.listPage .listBox .tableBox .el-table__header-wrapper{width:100%;height:36px}.listPage .listBox .tableBox .el-table__body-wrapper{width:100%;height:calc(100% - 36px)}.listPage .listBox .tableBox .el-table__body-wrapper table,.listPage .listBox .tableBox .el-table__body-wrapper table tbody{width:100%;height:100%}.listPage .listBox .tableBox .el-table--border:after,.listPage .listBox .tableBox .el-table--group:after,.listPage .listBox .tableBox .el-table:before{display:none}.listPage .listBox .pagination{width:100%;height:10%;margin-top:1.5%}.listPage .listBox .pagination .el-pagination{height:100%;padding:0;text-align:center}.listPage .queryRow{width:100%}.listPage .queryRow .el-form{width:100%;height:100%}.listPage .queryRow .el-form .autoElform{height:auto}.listPage .queryRow .el-form .el-form-item{padding-left:52px;margin:0 10px 20px 0}.listPage .queryRow .el-form .el-form-item .el-form-item__content{width:90%;float:left;display:-webkit-box;display:-ms-flexbox;display:flex}.listPage .queryRow .el-form .el-form-item .el-form-item__content .el-select{height:36px;line-height:36px;width:160px}.listPage .queryRow .el-form .el-form-item .el-form-item__content .el-select .el-input,.listPage .queryRow .el-form .el-form-item .el-form-item__content .el-select .el-input input{height:100%;line-height:30px}.listPage .queryRow .el-form .el-form-item .el-form-item__content .el-select .el-input .el-select__caret{line-height:30px}.listPage .queryRow .el-form .el-form-item .el-form-item__content .el-input{height:36px;line-height:36px;width:200px}.listPage .queryRow .el-form .el-form-item .el-form-item__content .el-input .el-input__inner{height:100%}.listPage .queryRow .el-form .el-form-item .el-form-item__label{color:#409eff}.listPage .queryRow .el-form .el-form-item.dateLine{width:calc(25% - 10px)}.listPage .queryRow .el-form .el-form-item.dateLine .el-form-item__label{width:20%;height:36px;line-height:36px}.listPage .queryRow .el-form .el-form-item.dateLine .el-form-item__content{width:80%;height:36px;line-height:36px;float:left}.listPage .queryRow .el-form .el-form-item.dateLine .el-form-item__content .el-date-editor{width:100%;height:100%;padding:0 10px}.listPage .queryRow .el-form .el-form-item.dateLine .el-form-item__content .el-date-editor .el-range-separator{width:auto;line-height:30px}.listPage .queryRow .el-form .el-form-item.dateLine .el-form-item__content .el-date-editor .el-range__close-icon,.listPage .queryRow .el-form .el-form-item.dateLine .el-form-item__content .el-date-editor .el-range__icon{line-height:30px}',""]),e.exports=t}}]);
//# sourceMappingURL=chunk-3d3e6f40.0ab7987b.js.map